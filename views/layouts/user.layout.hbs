<!DOCTYPE html>
<html>

<head>
  <title>{{title}}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI=" crossorigin="anonymous" />

  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="/stylesheets/fonts.css" />
  <link rel="stylesheet" href="/stylesheets/style.css" />
  <link rel="stylesheet" href="/stylesheets/user/user.style.css" />
  <link rel="icon" type="image/png" href="/images/favicon.png">
</head>

<body>
  {{> user/header }}

  <main id="main" class="container">
    {{{body}}}
  </main>
  {{> user/footer }}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{{!-- 
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const searchInput = document.querySelector('.search-input');
      const searchResults = document.getElementById('search-results');
      const mainContent = document.querySelector('.main-page'); // ph·∫ßn layout ch√≠nh
      const searchResultsRow = document.getElementById('search-results-row');

      function doSearch() {
        const query = searchInput.value.trim();
        if (!query) {
          searchResults.style.display = 'none';
          mainContent.style.display = 'block';
          return;
        }

        mainContent.style.display = 'none';
        searchResults.style.display = 'block';
        searchResultsRow.innerHTML = `<p class="text-muted">üîç ƒêang t√¨m ki·∫øm "${query}"...</p>`;

        fetch(`/search?query=${encodeURIComponent(query)}`)
          .then(res => res.json())
          .then(data => {
            if (data.books && data.books.length > 0) {

              const html = data.books.map(book => `
  <div class="col-md-2 mb-3">
    <a href="/${book.slug}" class="text-decoration-none">
      <div class="card h-100">
        <img src="${book.coverImage || '/images/default-book.png'}" 
             class="card-img-top" 
             alt="${book.title}">
        <div class="card-body">
          <h6 class="card-title">${book.title}</h6>
          <h6 class="card-author">T√°c gi·∫£: ${book.author || 'Kh√¥ng r√µ'}</h6>
        </div>
      </div>
    </a>
  </div>
`).join('');

              searchResultsRow.innerHTML = html;
            } else {
              searchResultsRow.innerHTML = `<p class="text-danger">üò¢ Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o cho "${query}".</p>`;
            }
          })
          .catch(err => {
            console.error(err);
            searchResultsRow.innerHTML = `<p class="text-danger">L·ªói khi t√¨m ki·∫øm. Vui l√≤ng th·ª≠ l·∫°i.</p>`;
          });
      }

      // Nh·∫•n Enter ƒë·ªÉ search
      searchInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') doSearch();
      });

      // Khi xo√° text ‚Üí quay l·∫°i main page
      searchInput.addEventListener('input', () => {
        if (!searchInput.value.trim()) {
          searchResults.style.display = 'none';
          mainContent.style.display = 'block';
        }
      });
    });

  </script> --}}

</body>

</html>